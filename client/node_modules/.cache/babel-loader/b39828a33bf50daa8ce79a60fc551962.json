{"ast":null,"code":"var _jsxFileName = \"/Users/debanikpurkayastha/Desktop/corona-aid/client/src/Login.js\";\nimport React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { useFormFields } from \"./libs/hooksLib\";\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Row from 'react-bootstrap/Row';\nimport Cookie from 'js-cookie';\nexport default function Login() {\n  const [fields, handleFieldChange] = useFormFields({\n    email: \"\",\n    password: \"\"\n  });\n\n  function validateForm() {\n    return fields.email.length > 0 && fields.password.length > 0;\n  }\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    let form = {\n      'user': {\n        'email': fields.email,\n        'password': fields.password\n      }\n    };\n    console.log(form);\n    fetch('/api/users/login/', {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(form)\n    }).then(response => {\n      if (response.ok) {\n        response.json().then(data => {\n          console.log(\"Login successful\");\n          Cookie.set(\"token\", data.user.token);\n          window.location.reload(false);\n        });\n      } else {\n        alert('Incorrect Login!');\n      }\n    }).catch(e => {\n      alert('Incorrect Login!');\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"p-3 mb-5 bg-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, React.createElement(Row, {\n    className: \"justify-content-md-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 17\n    }\n  }, React.createElement(Col, {\n    md: \"auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }, React.createElement(Form.Group, {\n    controlId: \"email\",\n    bssize: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  }, React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 25\n    }\n  }, \"Email\"), React.createElement(Form.Control, {\n    type: \"email\",\n    value: fields.email,\n    onChange: handleFieldChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  })))), React.createElement(Row, {\n    className: \"justify-content-md-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, React.createElement(Col, {\n    md: \"auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, React.createElement(Form.Group, {\n    controlId: \"password\",\n    bssize: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }, React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 25\n    }\n  }, \"Password\"), React.createElement(Form.Control, {\n    value: fields.password,\n    onChange: handleFieldChange,\n    type: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 25\n    }\n  })))), React.createElement(Row, {\n    className: \"justify-content-md-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, React.createElement(Col, {\n    md: \"auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }, React.createElement(Button, {\n    variant: \"primary\",\n    disabled: !validateForm(),\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, \"Submit\")))));\n}","map":{"version":3,"sources":["/Users/debanikpurkayastha/Desktop/corona-aid/client/src/Login.js"],"names":["React","useFormFields","Form","Button","Col","Row","Cookie","Login","fields","handleFieldChange","email","password","validateForm","length","handleSubmit","e","preventDefault","form","console","log","fetch","method","headers","body","JSON","stringify","then","response","ok","json","data","set","user","token","window","location","reload","alert","catch"],"mappings":"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","sourcesContent":["import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { useFormFields } from \"./libs/hooksLib\";\n\nimport Form from 'react-bootstrap/Form'\nimport Button from 'react-bootstrap/Button'\nimport Col from 'react-bootstrap/Col'\nimport Row from 'react-bootstrap/Row'\nimport Cookie from 'js-cookie'\n\nexport default function Login() {\n    const [fields, handleFieldChange] = useFormFields({\n        email: \"\",\n        password: \"\",\n    });\n\n    function validateForm() {\n        return fields.email.length > 0 && fields.password.length > 0;\n    }\n\n    const handleSubmit = async e => {\n        e.preventDefault();\n        let form = {\n            'user': {\n                'email': fields.email,\n                'password': fields.password\n            }\n        };\n        console.log(form)\n        fetch('/api/users/login/', {\n            method: 'post',\n            headers: {'Content-Type': 'application/json'},\n            body: JSON.stringify(form)\n        })\n        .then((response) => {\n            if (response.ok) {\n                response.json().then(data => {\n                    console.log(\"Login successful\")\n                    Cookie.set(\"token\", data.user.token);\n                    window.location.reload(false);\n                });\n            } else {\n                alert('Incorrect Login!')\n            }\n        })\n        .catch((e) => {\n            alert('Incorrect Login!')\n        });\n      };\n\n    return (\n        <div className=\"p-3 mb-5 bg-white\">\n            <Form onSubmit={handleSubmit}>\n                <Row className=\"justify-content-md-center\">\n                    <Col md=\"auto\">\n                    <Form.Group controlId=\"email\" bssize=\"large\">\n                        <Form.Label>Email</Form.Label>\n                        <Form.Control \n                            type=\"email\"\n                            value={fields.email}\n                            onChange={handleFieldChange}\n                        />\n                    </Form.Group>\n                    </Col>\n                </Row>\n\n                <Row className=\"justify-content-md-center\">\n                    <Col md=\"auto\">\n                    <Form.Group controlId=\"password\" bssize=\"large\">\n                        <Form.Label>Password</Form.Label>\n                        <Form.Control \n                            value={fields.password}\n                            onChange={handleFieldChange}\n                            type=\"password\"\n                        />\n                    </Form.Group>\n                    </Col>\n                </Row>\n\n                <Row className=\"justify-content-md-center\">\n                    <Col md=\"auto\">\n                    <Button variant=\"primary\" disabled={!validateForm()} type=\"submit\">\n                        Submit\n                    </Button>\n                    </Col>\n                </Row>\n            </Form>\n        </div>\n    )\n\n\n}"]},"metadata":{},"sourceType":"module"}